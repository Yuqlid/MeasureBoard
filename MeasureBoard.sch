EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:MCU_ST_STM32
LIBS:mylib
LIBS:onsemi
LIBS:MeasureBoard-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 11
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Sheet
S 4500 1850 1650 4700
U 5AFAED5B
F0 "MCU" 60
F1 "MCU.sch" 60
F2 "TIM2_CH1" I L 4500 5400 60 
F3 "TIM2_CH2" I L 4500 5500 60 
F4 "TIM2_CH3" I L 4500 5600 60 
F5 "SPI1_NSS" O L 4500 2600 60 
F6 "SPI1_SCK" O L 4500 2700 60 
F7 "SPI1_MISO" I L 4500 2800 60 
F8 "SPI1_MOSI" O L 4500 2900 60 
F9 "USB_DM" B L 4500 2100 60 
F10 "USB_DP" B L 4500 2000 60 
F11 "USART1_TX" O R 6150 3500 60 
F12 "USART1_RX" I R 6150 3400 60 
F13 "SYS_JTMS-SWDIO" I R 6150 2000 60 
F14 "SYS_JTCK-SWCLK" I R 6150 2100 60 
F15 "SYS_JTDI" I R 6150 2200 60 
F16 "SYS_JTDO-TRACESWO" I R 6150 2300 60 
F17 "CAN_RX" B L 4500 3450 60 
F18 "CAN_TX" B L 4500 3350 60 
F19 "I2C1_SDA" O L 4500 4650 60 
F20 "I2C1_SCL" O L 4500 4550 60 
F21 "ADC_IN3" I R 6150 3950 60 
F22 "ADC_IN8" I R 6150 4050 60 
F23 "ADC_IN9" I R 6150 4150 60 
F24 "PB2" O R 6150 4300 60 
F25 "PB4" I L 4500 4750 60 
F26 "PB5" I R 6150 5200 60 
F27 "USART3_TX" O R 6150 2850 60 
F28 "USART3_RX" I R 6150 2750 60 
F29 "USART3_RTS" B R 6150 2950 60 
F30 "PB12" I R 6150 4450 60 
F31 "PB13" I R 6150 4550 60 
F32 "PB15" I R 6150 4650 60 
F33 "USART1_CK" O R 6150 3600 60 
F34 "PC13" I R 6150 4850 60 
F35 "PC14" I R 6150 4950 60 
F36 "PC15" I R 6150 5050 60 
$EndSheet
$Sheet
S 6650 1800 700  600 
U 5AFBC800
F0 "JTAG" 60
F1 "JTAG.sch" 60
F2 "TDI" I L 6650 2200 60 
F3 "SWO-TDO" I L 6650 2300 60 
F4 "SWCLK-TCK" I L 6650 2100 60 
F5 "SWDIO-TMS" I L 6650 2000 60 
F6 "Vref" I L 6650 1900 60 
$EndSheet
$Comp
L +3V3 #PWR?
U 1 1 5AFBEDA0
P 6550 1750
F 0 "#PWR?" H 6550 1600 50  0001 C CNN
F 1 "+3V3" H 6550 1890 50  0000 C CNN
F 2 "" H 6550 1750 50  0001 C CNN
F 3 "" H 6550 1750 50  0001 C CNN
	1    6550 1750
	1    0    0    -1  
$EndComp
$Sheet
S 2600 2500 650  500 
U 5AFC4C55
F0 "SSI" 60
F1 "SSI.sch" 60
F2 "NSS" I R 3250 2600 60 
F3 "SCK" I R 3250 2700 60 
F4 "MOSI" I R 3250 2900 60 
F5 "DATA_MISO" O R 3250 2800 60 
$EndSheet
$Sheet
S 3600 1900 550  300 
U 5AFC4CD0
F0 "USB" 60
F1 "USB.sch" 60
F2 "D+" B R 4150 2000 60 
F3 "D-" B R 4150 2100 60 
$EndSheet
$Sheet
S 6650 2650 850  400 
U 5AFC53DB
F0 "RS485" 60
F1 "RS485.sch" 60
F2 "~RE~,DE" I L 6650 2950 60 
F3 "RO" O L 6650 2750 60 
F4 "DI" I L 6650 2850 60 
F5 "RS485_A" B R 7500 2750 60 
F6 "RS485_B" B R 7500 2950 60 
$EndSheet
$Sheet
S 6650 3300 550  400 
U 5AFC5456
F0 "TTL" 60
F1 "TTL.sch" 60
F2 "TTL" B R 7200 3500 60 
F3 "RO" O L 6650 3400 60 
F4 "DI" I L 6650 3500 60 
F5 "DIR" I L 6650 3600 60 
$EndSheet
$Sheet
S 3450 3250 700  300 
U 5AFCB293
F0 "CAN" 60
F1 "CAN.sch" 60
F2 "TXD" I R 4150 3350 60 
F3 "RXD" O R 4150 3450 60 
F4 "CAN_H" B L 3450 3350 60 
F5 "CAN_L" B L 3450 3450 60 
$EndSheet
$Comp
L Conn_01x04 J?
U 1 1 5AFD681A
P 2350 3250
F 0 "J?" H 2350 3450 50  0000 C CNN
F 1 "Conn_01x04" H 2350 2950 50  0000 C CNN
F 2 "" H 2350 3250 50  0001 C CNN
F 3 "" H 2350 3250 50  0001 C CNN
	1    2350 3250
	-1   0    0    -1  
$EndComp
Wire Wire Line
	6550 1750 6550 1900
Wire Wire Line
	6550 1900 6650 1900
Wire Wire Line
	2550 3350 3450 3350
Wire Wire Line
	3450 3450 2550 3450
Wire Wire Line
	4500 2000 4150 2000
Wire Wire Line
	4150 2100 4500 2100
Wire Wire Line
	6150 2000 6650 2000
Wire Wire Line
	6150 2100 6650 2100
Wire Wire Line
	6150 2200 6650 2200
Wire Wire Line
	6150 2300 6650 2300
Wire Wire Line
	6150 2750 6650 2750
Wire Wire Line
	6650 2850 6150 2850
Wire Wire Line
	6150 2950 6650 2950
Wire Wire Line
	6150 3400 6650 3400
Wire Wire Line
	6150 3500 6650 3500
Wire Wire Line
	6150 3600 6650 3600
Wire Wire Line
	3250 2600 4500 2600
Wire Wire Line
	3250 2700 4500 2700
Wire Wire Line
	3250 2800 4500 2800
Wire Wire Line
	3250 2900 4500 2900
Wire Wire Line
	2150 4550 3000 4550
Wire Wire Line
	3000 4550 4500 4550
Wire Wire Line
	2150 4650 3200 4650
Wire Wire Line
	3200 4650 4500 4650
$Comp
L GND #PWR?
U 1 1 5AFFC823
P 2150 4450
F 0 "#PWR?" H 2150 4200 50  0001 C CNN
F 1 "GND" H 2150 4300 50  0000 C CNN
F 2 "" H 2150 4450 50  0001 C CNN
F 3 "" H 2150 4450 50  0001 C CNN
	1    2150 4450
	0    -1   -1   0   
$EndComp
$Comp
L R R?
U 1 1 5AFFD51F
P 3000 4350
F 0 "R?" V 3080 4350 50  0000 C CNN
F 1 "4.7k" V 3000 4350 50  0000 C CNN
F 2 "" V 2930 4350 50  0001 C CNN
F 3 "" H 3000 4350 50  0001 C CNN
	1    3000 4350
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 5AFFD8E6
P 3200 4350
F 0 "R?" V 3280 4350 50  0000 C CNN
F 1 "4.7k" V 3200 4350 50  0000 C CNN
F 2 "" V 3130 4350 50  0001 C CNN
F 3 "" H 3200 4350 50  0001 C CNN
	1    3200 4350
	1    0    0    -1  
$EndComp
Wire Wire Line
	3000 4500 3000 4550
Connection ~ 3000 4550
Wire Wire Line
	3200 4500 3200 4650
Connection ~ 3200 4650
Wire Wire Line
	3000 4100 3000 4150
Wire Wire Line
	3000 4150 3000 4200
Wire Wire Line
	3000 4150 3200 4150
Wire Wire Line
	3200 4150 3200 4200
Connection ~ 3000 4150
Wire Wire Line
	4150 3350 4500 3350
Wire Wire Line
	4500 3450 4150 3450
$Comp
L LED D?
U 1 1 5B006F24
P 6800 4300
F 0 "D?" H 6800 4400 50  0000 C CNN
F 1 "LED" H 6800 4200 50  0000 C CNN
F 2 "" H 6800 4300 50  0001 C CNN
F 3 "" H 6800 4300 50  0001 C CNN
	1    6800 4300
	-1   0    0    1   
$EndComp
$Comp
L R R?
U 1 1 5B00774C
P 6500 4300
F 0 "R?" V 6580 4300 50  0000 C CNN
F 1 "R" V 6500 4300 50  0000 C CNN
F 2 "" V 6430 4300 50  0001 C CNN
F 3 "" H 6500 4300 50  0001 C CNN
	1    6500 4300
	0    1    1    0   
$EndComp
Wire Wire Line
	6150 4300 6350 4300
Wire Wire Line
	6650 4300 6650 4300
$Comp
L GND #PWR?
U 1 1 5B007AA0
P 6950 4300
F 0 "#PWR?" H 6950 4050 50  0001 C CNN
F 1 "GND" H 6950 4150 50  0000 C CNN
F 2 "" H 6950 4300 50  0001 C CNN
F 3 "" H 6950 4300 50  0001 C CNN
	1    6950 4300
	0    -1   -1   0   
$EndComp
$Sheet
S 3450 5300 550  400 
U 5AFC0073
F0 "ENCODER" 60
F1 "ENCODER.sch" 60
F2 "A" O R 4000 5400 60 
F3 "B" O R 4000 5500 60 
F4 "I" O R 4000 5600 60 
$EndSheet
Wire Wire Line
	4000 5400 4500 5400
Wire Wire Line
	4500 5500 4000 5500
Wire Wire Line
	4000 5600 4500 5600
$Sheet
S 2900 2100 550  200 
U 5AFC4A25
F0 "LPF1" 60
F1 "LPF.sch" 60
F2 "IN" I L 2900 2200 60 
F3 "OUT" O R 3450 2200 60 
$EndSheet
$Sheet
S 2900 1700 550  200 
U 5AFC5146
F0 "LPF2" 60
F1 "LPF.sch" 60
F2 "IN" I L 2900 1800 60 
F3 "OUT" O R 3450 1800 60 
$EndSheet
$Comp
L +5V #PWR?
U 1 1 5AFD12A3
P 8100 3900
F 0 "#PWR?" H 8100 3750 50  0001 C CNN
F 1 "+5V" H 8100 4040 50  0000 C CNN
F 2 "" H 8100 3900 50  0001 C CNN
F 3 "" H 8100 3900 50  0001 C CNN
	1    8100 3900
	1    0    0    -1  
$EndComp
$Comp
L +3V3 #PWR?
U 1 1 5AFD15E7
P 8350 3900
F 0 "#PWR?" H 8350 3750 50  0001 C CNN
F 1 "+3V3" H 8350 4040 50  0000 C CNN
F 2 "" H 8350 3900 50  0001 C CNN
F 3 "" H 8350 3900 50  0001 C CNN
	1    8350 3900
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 5AFD192F
P 8100 4050
F 0 "R?" V 8180 4050 50  0000 C CNN
F 1 "R" V 8100 4050 50  0000 C CNN
F 2 "" V 8030 4050 50  0001 C CNN
F 3 "" H 8100 4050 50  0001 C CNN
	1    8100 4050
	-1   0    0    1   
$EndComp
$Comp
L R R?
U 1 1 5AFD1AEF
P 8350 4050
F 0 "R?" V 8430 4050 50  0000 C CNN
F 1 "R" V 8350 4050 50  0000 C CNN
F 2 "" V 8280 4050 50  0001 C CNN
F 3 "" H 8350 4050 50  0001 C CNN
	1    8350 4050
	-1   0    0    1   
$EndComp
$Comp
L LED D?
U 1 1 5AFD1CA6
P 8100 4350
F 0 "D?" H 8100 4450 50  0000 C CNN
F 1 "LED" H 8100 4250 50  0000 C CNN
F 2 "" H 8100 4350 50  0001 C CNN
F 3 "" H 8100 4350 50  0001 C CNN
	1    8100 4350
	0    -1   -1   0   
$EndComp
$Comp
L LED D?
U 1 1 5AFD21BF
P 8350 4350
F 0 "D?" H 8350 4450 50  0000 C CNN
F 1 "LED" H 8350 4250 50  0000 C CNN
F 2 "" H 8350 4350 50  0001 C CNN
F 3 "" H 8350 4350 50  0001 C CNN
	1    8350 4350
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR?
U 1 1 5AFD2519
P 8100 4500
F 0 "#PWR?" H 8100 4250 50  0001 C CNN
F 1 "GND" H 8100 4350 50  0000 C CNN
F 2 "" H 8100 4500 50  0001 C CNN
F 3 "" H 8100 4500 50  0001 C CNN
	1    8100 4500
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5AFD26CE
P 8350 4500
F 0 "#PWR?" H 8350 4250 50  0001 C CNN
F 1 "GND" H 8350 4350 50  0000 C CNN
F 2 "" H 8350 4500 50  0001 C CNN
F 3 "" H 8350 4500 50  0001 C CNN
	1    8350 4500
	1    0    0    -1  
$EndComp
$Comp
L GS3 J?
U 1 1 5AFD3E31
P 2300 4100
F 0 "J?" H 2350 4300 50  0000 C CNN
F 1 "GS3" H 2350 3901 50  0000 C CNN
F 2 "Connectors:GS3" V 2388 4026 50  0001 C CNN
F 3 "" H 2300 4100 50  0001 C CNN
	1    2300 4100
	0    1    1    0   
$EndComp
Wire Wire Line
	2300 4350 2150 4350
Wire Wire Line
	2300 4250 2300 4350
$Comp
L +3V3 #PWR?
U 1 1 5AFD47A8
P 2400 3950
F 0 "#PWR?" H 2400 3800 50  0001 C CNN
F 1 "+3V3" H 2400 4090 50  0000 C CNN
F 2 "" H 2400 3950 50  0001 C CNN
F 3 "" H 2400 3950 50  0001 C CNN
	1    2400 3950
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR?
U 1 1 5AFD59DF
P 2200 3950
F 0 "#PWR?" H 2200 3800 50  0001 C CNN
F 1 "+5V" H 2200 4090 50  0000 C CNN
F 2 "" H 2200 3950 50  0001 C CNN
F 3 "" H 2200 3950 50  0001 C CNN
	1    2200 3950
	1    0    0    -1  
$EndComp
$Comp
L +3V3 #PWR?
U 1 1 5AFD8423
P 3000 4100
F 0 "#PWR?" H 3000 3950 50  0001 C CNN
F 1 "+3V3" H 3000 4240 50  0000 C CNN
F 2 "" H 3000 4100 50  0001 C CNN
F 3 "" H 3000 4100 50  0001 C CNN
	1    3000 4100
	1    0    0    -1  
$EndComp
$Comp
L Conn_01x04 J?
U 1 1 5AFDA4E0
P 1950 4450
F 0 "J?" H 1950 4650 50  0000 C CNN
F 1 "Conn_01x04" H 1950 4150 50  0000 C CNN
F 2 "" H 1950 4450 50  0001 C CNN
F 3 "" H 1950 4450 50  0001 C CNN
	1    1950 4450
	-1   0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5AFDC66B
P 2550 3150
F 0 "#PWR?" H 2550 2900 50  0001 C CNN
F 1 "GND" H 2550 3000 50  0000 C CNN
F 2 "" H 2550 3150 50  0001 C CNN
F 3 "" H 2550 3150 50  0001 C CNN
	1    2550 3150
	0    -1   -1   0   
$EndComp
$EndSCHEMATC
